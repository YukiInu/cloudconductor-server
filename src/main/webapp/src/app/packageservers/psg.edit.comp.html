<div class="row">
  <div class="col-lg-12">
    <h1 class="page-header" *ngIf="mode == 'edit'">Edit Package-Server-Group</h1>
    <h1 class="page-header" *ngIf="mode == 'new'">New Package-Server-Group</h1>
  </div>
</div>


<div class="row">
  <div class="col-md-12">

    <div class="panel panel-default">
      <div class="panel-heading">
        <i class="fa fa-list-alt fa-fw"></i> Package-Server-Group
      </div>
      <div class="panel-body">
        <div class="form-group" [class.has-error]="!isNameValid()">
          <label class="control-label" for="psgname">Package-Server-Group Name</label>
          <input type="text" class="form-control" [(ngModel)]="group.name" id="psgname">
        </div>

        <div class="space-20"></div>

        <div class="panel panel-default">
          <div class="panel-heading">
            <i class="fa fa-desktop fa-fw"></i> Package-Servers
          </div>
          <div class="panel-body">
            <div class="table-responsive">
              <table class="table table-striped table-hover">
                <tbody>
                <tr *ngFor="let server of group.packageServers"
                    [class.info]="server.id == group.primaryServer"
                    (dblclick)="editServer(server.id)">
                  <td *ngIf="server.id === group.primaryServer"><i class="fa fa-check fa-fw"></i></td>
                  <td *ngIf="server.id !== group.primaryServer">
                    <input type="radio" name="primaryServer" (click)="setPrimary(server.id)" title="Primary Server">
                  </td>
                  <td>{{server.description}} -- {{server.path}}</td>
                  <td>
                    <a (click)="editServer(server.id)"><i class="fa fa-edit fa-fw"></i></a>
                  </td>
                  <td>
                    <a (click)="deleteServer(server.id)"><i class="fa fa-bitbucket fa-fw"></i></a>
                  </td>
                </tr>

                <tr (click)="addServer()"  role="button">
                  <td><i class="fa fa-plus fa-fw"></i></td>
                  <td colspan="4">Add a new Server</td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="pull-right">
          <button [routerLink]="['/packageservers']" class="btn btn-default">Back</button>
          <button (click)="save()" class="btn btn-info" [disabled]="!isNameValid()">Save</button>
        </div>
      </div>
    </div>

  </div>
</div>

